##定义初始变量
#set($tableName = $tool.append($tableInfo.name, "Controller"))
##设置回调
$!callback.setFileName($tool.append($tableName, ".java"))
$!callback.setSavePath($tool.append($tableInfo.savePath, "/controller"))
##拿到主键
#if(!$tableInfo.pkColumn.isEmpty())
        #set($pk = $tableInfo.pkColumn.get(0))
#end
##定义服务名
#set($serviceName = $!tool.append($!tool.firstLowerCase($!tableInfo.name), "Service"))

#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}controller;
import io.swagger.annotations.Api;
import io.swagger.annotations.ApiOperation;
import $!{tableInfo.savePackageName}.domain.$!{tableInfo.name};
import $!{tableInfo.savePackageName}.service.$!{tableInfo.name}Service;
import $!{tableInfo.savePackageName}.dto.$!{tableInfo.name}PageDTO;
import com.baomidou.mybatisplus.extension.plugins.pagination.Page;
import org.springframework.web.bind.annotation.*;
import com.snail.common.core.utils.R;
import javax.annotation.Resource;
import java.util.List;

/**
 * $!{tableInfo.comment}
 *
 * @author $!author
 * @since $!time.currTime()
 */
@Api(tags = "$!{tableInfo.comment}")
@RestController
@RequestMapping("/v1/$!tool.firstLowerCase($tableInfo.name)")
public class $!{tableName} {

@Resource
private $!{tableInfo.name}Service $!{serviceName};

@PostMapping("queryByPage")
@ApiOperation(value = "分页查询", notes = "分页查询")
public R<Page<$!{tableInfo.name}>>queryByPage(@RequestBody $!{tableInfo.name}PageDTO dto){
        return $!{serviceName}.queryByPage(dto);
        }

@GetMapping("{id}")
@ApiOperation(value = "主键查询")
public R<$!{tableInfo.name}> queryById(@PathVariable("id") $!pk.shortType id) {
        return R.ok($!{serviceName}.getById(id));
        }

@PostMapping
@ApiOperation(value = "新增数据")
public R<Boolean> add($!{tableInfo.name} $!{tool.firstLowerCase($tableInfo.name)}) {
        return R.ok($!{serviceName}.save($!{tool.firstLowerCase($tableInfo.name)}));
        }

@PutMapping
@ApiOperation(value = "编辑数据")
public R<Boolean> edit($!{tableInfo.name} $!{tool.firstLowerCase($tableInfo.name)}) {
        return R.ok($!{serviceName}.updateById($!{tool.firstLowerCase($tableInfo.name)}));
        }

@DeleteMapping
@ApiOperation(value = "删除数据")
public R<Boolean> deleteById(@RequestParam("ids") List<Long> ids) {
        return R.ok($!{serviceName}.removeByIds(ids));
        }

        }
